<div
  *ngIf="book && !loading"
  class="bg-sky-900 mt-8 border-black border-2 p-8 shadow-sm mx-auto w-5/6"
>
  <div class="flex flex-row justify-between">
    <div class="">
      <h1 class="text-5xl font-bold text-white">
        {{ book.title.toUpperCase() }}
      </h1>
      <h2 class="text-xl">{{ book.author }}</h2>
    </div>
    <div class="my-auto">
      <app-book-rating
        [rating]="getAverageRating()"
        [reviewCount]="getReviewCount()"
        [showReviewCount]="true"
      ></app-book-rating>
    </div>
  </div>
  <div class="mt-10 prose max-w-none">
    <h3>Sinopsis</h3>
    <p>{{ book.synopsis }}</p>
    <h3>About the author</h3>
    <p>{{ book.aboutAuthor }}</p>
    <h3>Fun facts</h3>
    <p>{{ book.funFacts }}</p>
  </div>
</div>

<div
  *ngIf="loading"
  class="bg-sky-900 mt-8 p-8 shadow-sm mx-auto w-5/6 h-[40rem] animate-pulse"
>
  <div class="bg-gray-600 animate-pulse h-24 w-5/6"></div>
  <div class="bg-gray-600 animate-pulse h-32 mt-8"></div>
  <div class="bg-gray-600 animate-pulse h-32 mt-6"></div>
  <div class="bg-gray-600 animate-pulse h-32 mt-6"></div>
</div>

<h1 *ngIf="!reviewsLoading" class="text-center text-3xl font-bold mt-8 mb-2">
  REVIEWS
</h1>

<app-book-reviews-card
  *ngIf="reviews && !reviewsLoading"
  [bookReviews]="reviews"
  (OnRatingChanged)="onRatingChanged($event)"
></app-book-reviews-card>
